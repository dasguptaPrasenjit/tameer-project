function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"+1Pu":function(t,e,a){"use strict";a.r(e),a.d(e,"ProductManagementModule",(function(){return Kt}));var i,r=a("ofXK"),o=a("tyNb"),c=a("fXoL"),n=a("wZkO"),l=a("mrSG"),s=a("M9IT"),u=a("+0xr"),d=a("Dh3D"),b=a("3Pt+"),m=a("VfN6"),p=a("0IaG"),f=a("aR35"),v=a("UJjo"),g=a("XkPD"),h=a("Olgc"),_=a("q3Kh"),y=a("tk/3"),S=((i=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"getProductsByCategoryId",value:function(t){return this.http.post(f.e.PRODUCTS,{categoryid:t}).pipe(Object(_.map)((function(t){return 200===t.code?t.data:[]})))}},{key:"getProductVariantByProductId",value:function(t){return this.http.post(f.e.PRODUCT_DETAILS,{productid:t}).pipe(Object(_.map)((function(t){return t?t.data.product_details:[]})))}},{key:"getProductVariantDetailBySKUId",value:function(t){return this.http.post(f.e.PRODUCT_VARIANT_DETAIL,{skuid:t}).pipe(Object(_.map)((function(t){return t&&t.data&&t.data.length>0?t.data[0]:[]})))}},{key:"addMasterProduct",value:function(t){return this.http.post(f.e.PRODUCT_ADD,t)}},{key:"updateMasterProduct",value:function(t){return this.http.post(f.e.PRODUCT_UPDATE,t)}},{key:"addProductVariant",value:function(t){return this.http.post(f.e.PRODUCT_VARIANT_ADD,t)}},{key:"updateVariant",value:function(t,e){return this.http.post(f.e.PRODUCT_VARIANT_UPDATE,{skuid:t,no_of_unit:e})}},{key:"deleteProductVariant",value:function(t){return this.http.post(f.e.PRODUCT_VARIANT_DELETE,t)}}]),t}()).\u0275fac=function(t){return new(t||i)(c.cc(y.b))},i.\u0275prov=c.Ob({token:i,factory:i.\u0275fac,providedIn:"root"}),i),X=a("2hTz"),Y=a("r1eF"),k=a("SIeF"),G=a("kmnG"),P=a("qFsG"),C=a("d3UM"),w=a("bTqV"),D=a("NFeN"),T=a("W/tz"),I=a("pJxS"),q=a("FKr1"),O=a("/1cH"),V=a("Qu3c"),x=a("A5z7"),E=a("Us6y");function B(t,e){if(1&t&&(c.Yb(0,"mat-option",19),c.Gc(1),c.Xb()),2&t){var a=e.$implicit;c.qc("value",a.key),c.Gb(1),c.Ic(" ",a.value," ")}}function F(t,e){if(1&t&&(c.Yb(0,"mat-option",19),c.Gc(1),c.Xb()),2&t){var a=e.$implicit;c.qc("value",a.vendor_id),c.Gb(1),c.Kc(" ",a.category_name," - ",a.shop_name," (",a.name,") ")}}function A(t,e){if(1&t&&(c.Yb(0,"mat-option",19),c.Gc(1),c.Xb()),2&t){var a=e.$implicit;c.qc("value",a),c.Gb(1),c.Ic(" ",a," ")}}function R(t,e){if(1&t){var a=c.Zb();c.Wb(0),c.Yb(1,"div",20),c.Yb(2,"div",2),c.Yb(3,"mat-form-field",3),c.Yb(4,"input",21),c.gc("keyup",(function(t){return c.yc(a),c.kc().filterOptions(t)}))("change",(function(){return c.yc(a),c.kc().resetAutocomplete()})),c.Xb(),c.Yb(5,"mat-autocomplete",null,22),c.Ec(7,A,2,2,"mat-option",6),c.Xb(),c.Xb(),c.Xb(),c.Yb(8,"div",23),c.Yb(9,"mat-form-field",3),c.Tb(10,"input",24),c.Xb(),c.Xb(),c.Yb(11,"div",25),c.Yb(12,"button",26),c.gc("click",(function(){c.yc(a);var t=e.index;return c.kc().removeProperty(t)})),c.Yb(13,"mat-icon",27),c.Gc(14,"clear"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Vb()}if(2&t){var i,r=e.index,o=c.wc(6),n=c.kc(),l=1==(null==(i=n.variants())?null:i.controls.length);c.Gb(1),c.qc("formGroupName",r),c.Gb(3),c.qc("matAutocomplete",o),c.Gb(3),c.qc("ngForOf",n.filteredOptions),c.Gb(5),c.qc("disabled",l)}}function U(t,e){if(1&t){var a=c.Zb();c.Yb(0,"mat-chip",30),c.gc("removed",(function(){c.yc(a);var t=e.$implicit;return c.kc(2).removeFile(t)})),c.Gc(1),c.lc(2,"textTruncate"),c.Yb(3,"mat-icon",31),c.Gc(4,"cancel"),c.Xb(),c.Xb()}if(2&t){var i=e.$implicit;c.qc("removable",!0),c.Gb(1),c.Ic(" ",c.nc(2,2,i,24)," ")}}function z(t,e){if(1&t&&(c.Yb(0,"mat-chip-list",28),c.Ec(1,U,5,5,"mat-chip",29),c.Xb()),2&t){var a=c.kc();c.Gb(1),c.qc("ngForOf",a.form.get("filenames").value)}}var M,N=function(){return[".jpg",".jpeg",".png"]},$=((M=function(){function t(e,a,i,r,o,c,n,l){_classCallCheck(this,t),this.dialogRef=e,this.modalData=a,this._formBuilder=i,this._ProgressBarService=r,this._UploaderService=o,this._ToastService=c,this._ProductService=n,this._userService=l,this.filteredOptions=f.d,this.foodTypes=f.a,this.vendors=[],this.modalData.product&&this.modalData.product.product_id||this.dialogRef.close(!1),this.getAllVendors(),this.createForm(),this.modalData.productVariant&&this.form.patchValue(this.modalData.productVariant)}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"getAllVendors",value:function(){var t=this;this._ProgressBarService.show(),this._userService.getAllVendors().subscribe((function(e){t.vendors=e,t._ProgressBarService.hide()}))}},{key:"filterOptions",value:function(t){if(t.target.value){var e=t.target.value.toLowerCase();this.filteredOptions=f.d.filter((function(t){return t.toLowerCase().includes(e)}))}else this.filteredOptions=f.d}},{key:"resetAutocomplete",value:function(){this.filteredOptions=f.d}},{key:"createForm",value:function(){this.form=this._formBuilder.group({productid:[this.modalData.product.product_id,b.v.required],vendorid:[null,b.v.required],sku_name:["",b.v.required],is_veg:[0,b.v.required],price:["",b.v.required],no_of_unit:[0,[b.v.required,b.v.min(1)]],filenames:[[],b.v.required],variant:this._formBuilder.array([])}),this.addProperty()}},{key:"addProperty",value:function(){var t=this.form.controls.variant,e=t.length,a=this._formBuilder.group({key:["",[b.v.required,b.v.maxLength(20),b.v.pattern(/^[a-zA-Z_$][0-9a-zA-Z_$ ]*$/)]],value:["",b.v.required]});t.insert(e,a)}},{key:"removeProperty",value:function(t){var e=this.form.controls.variant;e.length>1&&e.removeAt(t)}},{key:"variants",value:function(){return this.form.get("variant")}},{key:"fileChanged",value:function(t){var e=this,a=new FormData;a.append("filenames[]",t.target.files[0]),a.append("type","product"),this._ProgressBarService.show(),this._UploaderService.upload(a).subscribe((function(t){if(e._ProgressBarService.hide(),t){var a=e.form.get("filenames").value;a.push(t),e.form.patchValue({filenames:a})}}))}},{key:"removeFile",value:function(t){var e=this.form.get("filenames").value,a=e.indexOf(t);a>=0&&e.splice(a,1),this.form.patchValue({filenames:e})}},{key:"convertToVariantFormat",value:function(t){var e={};return t.forEach((function(t){e[t.key]=t.value})),e}},{key:"submit",value:function(t){var e=this;if(t.preventDefault(),this.form.valid){var a=this.form.value,i={productid:a.productid,vendorid:a.vendorid,filenames:a.filenames,no_of_unit:a.no_of_unit,price:a.price,sku_name:a.sku_name,is_veg:a.is_veg,variant:this.convertToVariantFormat(this.form.value.variant)};this._ProgressBarService.show(),this._ProductService.addProductVariant(i).subscribe((function(t){e._ProgressBarService.hide(),200===t.code?(e._ToastService.info(t.message),e.form.reset(),e.dialogRef.close(!0)):e._ToastService.error(t.message)}),(function(t){e._ProgressBarService.hide(),e._ToastService.error(t.message)}))}}}]),t}()).\u0275fac=function(t){return new(t||M)(c.Sb(p.g),c.Sb(p.a),c.Sb(b.d),c.Sb(v.a),c.Sb(g.a),c.Sb(h.a),c.Sb(S),c.Sb(X.a))},M.\u0275cmp=c.Mb({type:M,selectors:[["app-save-product-variant"]],decls:50,vars:9,consts:[["autocomplete","off",3,"formGroup","submit"],[1,"row"],[1,"col-xs-12","col-md-6"],[1,"full-width"],["type","text","matInput","","placeholder","Name","formControlName","sku_name"],["formControlName","is_veg"],[3,"value",4,"ngFor","ngForOf"],["type","text","matInput","","placeholder","Price","formControlName","price"],["type","number","matInput","","placeholder","Unit","formControlName","no_of_unit"],[1,"col-xs-12"],["formControlName","vendorid"],["formArrayName","variant",1,"variant"],[1,"heading2"],[4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"click"],[1,"full-width",2,"margin-top","8px"],[3,"fileTypes","change"],["aria-label","photo",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"],[1,"row",3,"formGroupName"],["type","text","placeholder","Property, eg. Weight","aria-label","Property","matInput","","formControlName","key",3,"matAutocomplete","keyup","change"],["auto","matAutocomplete"],[1,"col-xs-12","col-md-5"],["type","text","matInput","","placeholder","Value, eg. 1 kg","formControlName","value"],[1,"col-xs-12","col-md-1"],["mat-icon-button","","matTooltip","Remove Property","color","warn",2,"right","16px",3,"disabled","click"],[2,"font-size","16px"],["aria-label","photo"],["color","accent","matTooltip","Remove image",3,"removable","removed",4,"ngFor","ngForOf"],["color","accent","matTooltip","Remove image",3,"removable","removed"],["matChipRemove",""]],template:function(t,e){if(1&t&&(c.Yb(0,"form",0),c.gc("submit",(function(t){return e.submit(t)})),c.Yb(1,"app-modal-header"),c.Gc(2),c.Xb(),c.Yb(3,"app-modal-body"),c.Yb(4,"div",1),c.Yb(5,"div",2),c.Yb(6,"mat-form-field",3),c.Tb(7,"input",4),c.Xb(),c.Xb(),c.Yb(8,"div",2),c.Yb(9,"mat-form-field",3),c.Yb(10,"mat-label"),c.Gc(11,"Product type"),c.Xb(),c.Yb(12,"mat-select",5),c.Ec(13,B,2,2,"mat-option",6),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(14,"div",1),c.Yb(15,"div",2),c.Yb(16,"mat-form-field",3),c.Tb(17,"input",7),c.Xb(),c.Xb(),c.Yb(18,"div",2),c.Yb(19,"mat-form-field",3),c.Tb(20,"input",8),c.Xb(),c.Xb(),c.Xb(),c.Yb(21,"div",1),c.Yb(22,"div",9),c.Yb(23,"mat-form-field",3),c.Yb(24,"mat-label"),c.Gc(25,"Vendor"),c.Xb(),c.Yb(26,"mat-select",10),c.Ec(27,F,2,4,"mat-option",6),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(28,"div",11),c.Yb(29,"div",1),c.Yb(30,"div",9),c.Yb(31,"div",12),c.Gc(32," Product properties "),c.Yb(33,"small"),c.Gc(34,"(displayed as product description)"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Ec(35,R,15,4,"ng-container",13),c.Yb(36,"button",14),c.gc("click",(function(){return e.addProperty()})),c.Yb(37,"mat-icon"),c.Gc(38,"add"),c.Xb(),c.Gc(39," Add another property "),c.Xb(),c.Xb(),c.Yb(40,"div",1),c.Yb(41,"div",9),c.Yb(42,"div",15),c.Yb(43,"mat-label"),c.Gc(44,"Upload variant image"),c.Xb(),c.Yb(45,"app-file-browser",16),c.gc("change",(function(t){return e.fileChanged(t)})),c.Xb(),c.Ec(46,z,2,1,"mat-chip-list",17),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(47,"app-modal-action"),c.Yb(48,"button",18),c.gc("click",(function(t){return e.submit(t)})),c.Gc(49,"Save"),c.Xb(),c.Xb(),c.Xb()),2&t){var a,i=null==(a=e.variants())?null:a.controls,r=null,o=(null==e.form||null==(r=e.form.get("filenames"))||null==r.value?null:r.value.length)>0;c.qc("formGroup",e.form),c.Gb(2),c.Ic("",e.modalData.product.product_name,"/Variant"),c.Gb(11),c.qc("ngForOf",e.foodTypes),c.Gb(14),c.qc("ngForOf",e.vendors),c.Gb(8),c.qc("ngForOf",i),c.Gb(10),c.qc("fileTypes",c.sc(8,N)),c.Gb(1),c.qc("ngIf",o),c.Gb(2),c.qc("disabled",e._ProgressBarService.inProgress()||e.form.invalid)}},directives:[b.w,b.p,b.i,Y.a,k.a,G.b,P.a,b.b,b.o,b.g,G.f,C.a,r.l,b.s,b.c,w.b,D.a,T.a,r.m,I.a,q.k,b.j,O.c,O.a,V.a,x.b,x.a,x.c],pipes:[E.a],styles:[".variant[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:8px;padding:8px 4px}"]}),M),j=a("vAVV"),H=function(t){return{"subcategory-indent":t}};function L(t,e){if(1&t&&(c.Yb(0,"mat-option",10),c.Yb(1,"span",11),c.Gc(2),c.Xb(),c.Xb()),2&t){var a=e.$implicit;c.qc("value",a.id)("disabled",a.isParent),c.Gb(1),c.qc("ngClass",c.tc(4,H,!a.isParent)),c.Gb(1),c.Ic(" ",a.categoryname," ")}}function W(t,e){if(1&t){var a=c.Zb();c.Yb(0,"mat-chip",14),c.gc("removed",(function(){c.yc(a);var t=e.$implicit;return c.kc(2).removeFile(t)})),c.Gc(1),c.lc(2,"textTruncate"),c.Yb(3,"mat-icon",15),c.Gc(4,"cancel"),c.Xb(),c.Xb()}if(2&t){var i=e.$implicit;c.qc("removable",!0),c.Gb(1),c.Ic(" ",c.nc(2,2,i,15)," ")}}function Z(t,e){if(1&t&&(c.Yb(0,"mat-chip-list",12),c.Ec(1,W,5,5,"mat-chip",13),c.Xb()),2&t){var a,i=null==(a=c.kc().form.get("imageurl"))?null:a.value;c.Gb(1),c.qc("ngForOf",i)}}var K,J=function(){return[".jpg",".jpeg",".png"]},Q=((K=function(){function t(e,a,i,r,o,c,n,l,s){var u;_classCallCheck(this,t),this.dialogRef=e,this.modalData=a,this.dialog=i,this._formBuilder=r,this._CategoryService=o,this._ProductService=c,this._ProgressBarService=n,this._UploaderService=l,this._ToastService=s,this.caterories=[],this.createForm(),(null===(u=this.modalData)||void 0===u?void 0:u.product)&&this.form.patchValue({name:this.modalData.product.product_name,categoryid:this.modalData.product.category_id,imageurl:[this.modalData.product.product_image]})}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._ProgressBarService.show(),this._CategoryService.getNestedCategories().subscribe((function(e){t.caterories=e,t._ProgressBarService.hide()}))}},{key:"createForm",value:function(){this.form=this._formBuilder.group({name:["",b.v.required],categoryid:[null,b.v.required],vendorid:[null],imageurl:[[],b.v.required]})}},{key:"fileChanged",value:function(t){var e=this,a=new FormData;a.append("filenames[]",t.target.files[0]),a.append("type","product"),this._ProgressBarService.show(),this._UploaderService.upload(a).subscribe((function(t){if(e._ProgressBarService.hide(),t){var a=e.form.get("imageurl").value;a.push(t),e.form.patchValue({imageurl:a})}}))}},{key:"removeFile",value:function(t){var e=this.form.get("imageurl").value,a=e.indexOf(t);a>=0&&e.splice(a,1),this.form.patchValue({filenames:e})}},{key:"submit",value:function(t){var e,a=this;if(t.preventDefault(),this.form.valid){var i=this.form.value;this._ProgressBarService.show(),(null===(e=this.modalData)||void 0===e?void 0:e.product)?(i.id=this.modalData.product.product_id,this._ProductService.updateMasterProduct(i).subscribe((function(t){a._ProgressBarService.hide(),a._ToastService.error(t.message),a.form.reset(),a.dialogRef.close(!0)}),(function(t){a._ProgressBarService.hide(),a._ToastService.error(t.message)}))):this._ProductService.addMasterProduct(i).subscribe((function(t){a._ProgressBarService.hide(),200===t.code?(a._ToastService.info(t.message),a.form.reset(),a.dialogRef.close(!0),setTimeout((function(){a.dialog.open($,{width:"600px",disableClose:!0,data:{product:{product_name:t.data.name,product_id:t.data.id}}})}))):a._ToastService.error(t.message)}),(function(t){a._ProgressBarService.hide(),a._ToastService.error(t.message)}))}}}]),t}()).\u0275fac=function(t){return new(t||K)(c.Sb(p.g),c.Sb(p.a),c.Sb(p.b),c.Sb(b.d),c.Sb(j.a),c.Sb(S),c.Sb(v.a),c.Sb(g.a),c.Sb(h.a))},K.\u0275cmp=c.Mb({type:K,selectors:[["app-save-product"]],decls:21,vars:7,consts:[["autocomplete","off",3,"formGroup","submit"],[1,"row"],[1,"col-xs-12"],[1,"full-width"],["type","text","matInput","","placeholder","Product Name","formControlName","name"],["formControlName","categoryid"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"fileTypes","change"],["aria-label","photo",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value","disabled"],[3,"ngClass"],["aria-label","photo"],["color","accent",3,"removable","removed",4,"ngFor","ngForOf"],["color","accent",3,"removable","removed"],["matChipRemove",""]],template:function(t,e){if(1&t&&(c.Yb(0,"form",0),c.gc("submit",(function(t){return e.submit(t)})),c.Yb(1,"app-modal-header"),c.Gc(2),c.Xb(),c.Yb(3,"app-modal-body"),c.Yb(4,"div",1),c.Yb(5,"div",2),c.Yb(6,"mat-form-field",3),c.Tb(7,"input",4),c.Xb(),c.Xb(),c.Yb(8,"div",2),c.Yb(9,"mat-form-field",3),c.Yb(10,"mat-label"),c.Gc(11,"Select Category"),c.Xb(),c.Yb(12,"mat-select",5),c.Ec(13,L,3,6,"mat-option",6),c.Xb(),c.Xb(),c.Xb(),c.Yb(14,"div",2),c.Yb(15,"div",3),c.Yb(16,"app-file-browser",7),c.gc("change",(function(t){return e.fileChanged(t)})),c.Xb(),c.Ec(17,Z,2,1,"mat-chip-list",8),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(18,"app-modal-action"),c.Yb(19,"button",9),c.gc("click",(function(t){return e.submit(t)})),c.Gc(20,"Save"),c.Xb(),c.Xb(),c.Xb()),2&t){var a=null,i=(null==e.form||null==(a=e.form.get("imageurl"))||null==a.value?null:a.value.length)>0;c.qc("formGroup",e.form),c.Gb(2),c.Ic("",null!=e.modalData&&e.modalData.product?"Edit":"Add"," Base Product"),c.Gb(11),c.qc("ngForOf",e.caterories),c.Gb(3),c.qc("fileTypes",c.sc(6,J)),c.Gb(1),c.qc("ngIf",i),c.Gb(2),c.qc("disabled",e._ProgressBarService.inProgress()||e.form.invalid)}},directives:[b.w,b.p,b.i,Y.a,k.a,G.b,P.a,b.b,b.o,b.g,G.f,C.a,r.l,T.a,r.m,I.a,w.b,q.k,r.k,x.b,x.a,D.a,x.c],pipes:[E.a],styles:[""]}),K),tt=a("5U1G"),et=a("ZVAu"),at=function(t){return{"subcategory-indent":t}};function it(t,e){if(1&t&&(c.Yb(0,"mat-option",24),c.Yb(1,"span",25),c.Gc(2),c.Xb(),c.Xb()),2&t){var a=e.$implicit;c.qc("value",a.id)("disabled",a.isParent),c.Gb(1),c.qc("ngClass",c.tc(4,at,!a.isParent)),c.Gb(1),c.Ic(" ",a.categoryname," ")}}function rt(t,e){1&t&&(c.Yb(0,"th",26),c.Gc(1," Product "),c.Xb())}function ot(t,e){if(1&t&&(c.Yb(0,"td",27),c.Gc(1),c.Xb()),2&t){var a=e.$implicit;c.Gb(1),c.Ic(" ",a.product_name,"")}}function ct(t,e){1&t&&(c.Yb(0,"th",26),c.Gc(1," Image "),c.Xb())}function nt(t,e){if(1&t&&(c.Yb(0,"td",27),c.Tb(1,"img",28),c.Xb()),2&t){var a=e.$implicit,i=c.kc();c.Gb(1),c.qc("src",i._UploaderService.getImage(a.product_image),c.zc)}}function lt(t,e){1&t&&(c.Yb(0,"th",26),c.Gc(1," Manufacturer "),c.Xb())}function st(t,e){if(1&t&&(c.Yb(0,"td",27),c.Gc(1),c.Xb()),2&t){var a=e.$implicit;c.Gb(1),c.Ic(" ",a.manufacturer_name," ")}}function ut(t,e){1&t&&(c.Yb(0,"th",29),c.Gc(1," Action "),c.Xb())}function dt(t,e){if(1&t){var a=c.Zb();c.Yb(0,"td",27),c.Yb(1,"button",30),c.gc("click",(function(){c.yc(a);var t=e.$implicit;return c.kc().edit(t)})),c.Yb(2,"mat-icon"),c.Gc(3,"create"),c.Xb(),c.Gc(4," Edit "),c.Xb(),c.Yb(5,"button",31),c.gc("click",(function(){c.yc(a);var t=e.$implicit;return c.kc().view(t)})),c.Yb(6,"mat-icon"),c.Gc(7,"category"),c.Xb(),c.Gc(8," SKUs "),c.Xb(),c.Xb()}}function bt(t,e){1&t&&c.Tb(0,"tr",32)}function mt(t,e){1&t&&c.Tb(0,"tr",33)}var pt,ft=((pt=function(){function t(e,a,i,r,o){var n=this;_classCallCheck(this,t),this._CategoryService=e,this._ProductService=a,this._ProgressBarService=i,this.dialog=r,this._UploaderService=o,this.onTabAdd=new c.o,this.displayedColumns=["product_name","product_image","manufacturer_name","action"],this.pageSize=10,this.pageSizeOptions=[5,10,25,100],this.caterories=[],this.categoryList=new b.e,this._ProgressBarService.show(),this._CategoryService.getNestedCategories().subscribe((function(t){n.caterories=t,n._ProgressBarService.hide()})),this.categoryList.valueChanges.pipe(Object(m.b)(this)).subscribe((function(t){n.getProducts(t)}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.dataSource=new u.k([])}},{key:"getProducts",value:function(t){var e=this;this._ProgressBarService.show(),this._ProductService.getProductsByCategoryId(t).subscribe((function(t){e.dataSource.data=t,e.dataSource.paginator=e.paginator,e.dataSource.sort=e.sort,e._ProgressBarService.hide()}))}},{key:"view",value:function(t){this.onTabAdd.emit(t)}},{key:"applyFilter",value:function(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}},{key:"add",value:function(){var t=this;this.dialog.open(Q,{width:"400px",disableClose:!0}).afterClosed().subscribe((function(e){e&&t.getProducts(t.categoryList.value)}))}},{key:"edit",value:function(t){var e=this;this.dialog.open(Q,{width:"600px",disableClose:!0,data:{product:t}}).afterClosed().subscribe((function(t){t&&e.getProducts(e.categoryList.value)}))}}]),t}()).\u0275fac=function(t){return new(t||pt)(c.Sb(j.a),c.Sb(S),c.Sb(v.a),c.Sb(p.b),c.Sb(g.a))},pt.\u0275cmp=c.Mb({type:pt,selectors:[["app-product-list"]],viewQuery:function(t,e){var a;1&t&&(c.Mc(s.a,!0),c.Cc(d.a,!0)),2&t&&(c.vc(a=c.hc())&&(e.paginator=a.first),c.vc(a=c.hc())&&(e.sort=a.first))},outputs:{onTabAdd:"onTabAdd"},decls:39,vars:10,consts:[[2,"padding","8px"],[1,"row"],[1,"col-xs-12","col-md-4"],["mat-button","","color","primary",3,"click"],[1,"full-width"],["matPrefix","","color","primary",2,"margin-right","20px"],[3,"formControl"],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"col-xs-12","col-md-4",2,"text-align","right"],["matInput","","placeholder","Search product","autocomplete","off",3,"keyup"],["input",""],[1,"table-container","mat-elevation-z8"],["mat-table","","matSort","","matSortActive","product_name","matSortDisableClear","","matSortDirection","desc",3,"dataSource"],["matColumnDef","product_name","mat-sort-header",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","product_image"],["matColumnDef","manufacturer_name"],["matColumnDef","action"],["mat-header-cell","","style","width: 160px;",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"data"],[3,"length","pageSize","pageSizeOptions","page"],[3,"value","disabled"],[3,"ngClass"],["mat-header-cell",""],["mat-cell",""],["height","40","appImgFallback","",3,"src"],["mat-header-cell","",2,"width","160px"],["mat-button","","color","primary","aria-label","Edit product","matTooltip","Edit this base products",3,"click"],["mat-button","","color","primary","aria-label","View variants","matTooltip","View product details and variants",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(c.Yb(0,"div",0),c.Yb(1,"div",1),c.Yb(2,"div",2),c.Yb(3,"button",3),c.gc("click",(function(){return e.add()})),c.Yb(4,"mat-icon"),c.Gc(5,"add"),c.Xb(),c.Gc(6," Add Base Product "),c.Xb(),c.Xb(),c.Yb(7,"div",2),c.Yb(8,"mat-form-field",4),c.Yb(9,"mat-label"),c.Gc(10,"Select a category"),c.Xb(),c.Yb(11,"mat-icon",5),c.Gc(12,"account_tree"),c.Xb(),c.Yb(13,"mat-select",6),c.Ec(14,it,3,6,"mat-option",7),c.Xb(),c.Yb(15,"mat-hint"),c.Gc(16,"Please select a category to view list of master products"),c.Xb(),c.Xb(),c.Xb(),c.Yb(17,"div",8),c.Yb(18,"mat-form-field"),c.Yb(19,"input",9,10),c.gc("keyup",(function(t){return e.applyFilter(t)})),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(21,"div",11),c.Yb(22,"table",12),c.Wb(23,13),c.Ec(24,rt,2,0,"th",14),c.Ec(25,ot,2,1,"td",15),c.Vb(),c.Wb(26,16),c.Ec(27,ct,2,0,"th",14),c.Ec(28,nt,2,1,"td",15),c.Vb(),c.Wb(29,17),c.Ec(30,lt,2,0,"th",14),c.Ec(31,st,2,1,"td",15),c.Vb(),c.Wb(32,18),c.Ec(33,ut,2,0,"th",19),c.Ec(34,dt,9,0,"td",15),c.Vb(),c.Ec(35,bt,1,0,"tr",20),c.Ec(36,mt,1,0,"tr",21),c.Xb(),c.Tb(37,"app-no-records",22),c.Xb(),c.Yb(38,"mat-paginator",23),c.gc("page",(function(t){return e.pageEvent=t})),c.Xb()),2&t&&(c.Gb(13),c.qc("formControl",e.categoryList),c.Gb(1),c.qc("ngForOf",e.caterories),c.Gb(8),c.qc("dataSource",e.dataSource),c.Gb(13),c.qc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),c.Gb(1),c.qc("matRowDefColumns",e.displayedColumns),c.Gb(1),c.qc("data",e.dataSource.data),c.Gb(1),c.qc("length",e.dataSource.data.length)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions))},directives:[w.b,D.a,G.b,G.f,G.g,C.a,b.o,b.f,r.l,G.e,P.a,u.j,u.c,u.e,u.b,u.g,u.i,tt.a,s.a,q.k,r.k,u.d,u.a,et.a,V.a,u.f,u.h],styles:[""]}),pt=Object(l.a)([Object(m.a)()],pt));function vt(t,e){if(1&t&&(c.Yb(0,"span"),c.Tb(1,"img",10),c.Xb()),2&t){var a=e.$implicit,i=c.kc();c.Gb(1),c.qc("src",i._UploaderService.getImage(a),c.zc)}}function gt(t,e){if(1&t&&(c.Yb(0,"mat-chip",13),c.Gc(1),c.Xb()),2&t){var a=e.$implicit,i=c.kc(2);c.Gb(1),c.Jc(" ",a,": ",null==i.variantDetail?null:i.variantDetail.variant[a]," ")}}function ht(t,e){if(1&t&&(c.Yb(0,"mat-chip-list",11),c.Ec(1,gt,2,2,"mat-chip",12),c.Xb()),2&t){var a=c.kc();c.Gb(1),c.qc("ngForOf",a.keys())}}var _t,yt=((_t=function(){function t(e,a,i,r,o,c){_classCallCheck(this,t),this.dialogRef=e,this.modalData=a,this._ProgressBarService=i,this._ToastService=r,this._ProductService=o,this._UploaderService=c}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._ProgressBarService.show(),this._ProductService.getProductVariantDetailBySKUId(this.modalData.productVariant.sku_id).subscribe((function(e){t.variantDetail=e,t._ProgressBarService.hide()}))}},{key:"keys",value:function(){var t;return this.variantDetail?Object.keys(null===(t=this.variantDetail)||void 0===t?void 0:t.variant):[]}},{key:"submit",value:function(t){var e=this;this.no_of_unit&&(this._ProgressBarService.show(),this._ProductService.updateVariant(this.modalData.productVariant.sku_id,this.no_of_unit).subscribe((function(t){t&&(e._ProgressBarService.hide(),e._ToastService.info("Unit updated successfully"),e.dialogRef.close(!0))}),(function(t){e._ProgressBarService.hide(),e._ToastService.error(t.message)})))}}]),t}()).\u0275fac=function(t){return new(t||_t)(c.Sb(p.g),c.Sb(p.a),c.Sb(v.a),c.Sb(h.a),c.Sb(S),c.Sb(g.a))},_t.\u0275cmp=c.Mb({type:_t,selectors:[["app-product-variant-detail"]],decls:37,vars:8,consts:[[1,"row"],[1,"col-xs-6"],[1,"col-xs-12"],[4,"ngFor","ngForOf"],[1,"label"],["aria-label","photo",4,"ngIf"],[1,"value"],[1,"full-width"],["type","number","matInput","","placeholder","Unit","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","type","button","color","primary",3,"disabled","click"],["height","80","appImgFallback","",3,"src"],["aria-label","photo"],["color","accent",4,"ngFor","ngForOf"],["color","accent"]],template:function(t,e){if(1&t&&(c.Yb(0,"app-modal-header"),c.Gc(1),c.Xb(),c.Yb(2,"app-modal-body"),c.Yb(3,"div",0),c.Yb(4,"div",1),c.Yb(5,"div",0),c.Yb(6,"div",2),c.Ec(7,vt,2,1,"span",3),c.Xb(),c.Yb(8,"div",2),c.Yb(9,"span",4),c.Gc(10,"Variant:"),c.Xb(),c.Ec(11,ht,2,1,"mat-chip-list",5),c.Xb(),c.Xb(),c.Xb(),c.Yb(12,"div",1),c.Yb(13,"div",0),c.Yb(14,"div",2),c.Yb(15,"span",4),c.Gc(16,"SKU:"),c.Xb(),c.Yb(17,"span",6),c.Gc(18),c.Xb(),c.Xb(),c.Yb(19,"div",2),c.Yb(20,"span",4),c.Gc(21,"Price:"),c.Xb(),c.Yb(22,"span",6),c.Gc(23),c.Xb(),c.Xb(),c.Yb(24,"div",2),c.Yb(25,"span",4),c.Gc(26,"Available Unit:"),c.Xb(),c.Yb(27,"span",6),c.Gc(28),c.Xb(),c.Xb(),c.Yb(29,"div",2),c.Yb(30,"span",4),c.Gc(31,"Update Unit"),c.Xb(),c.Yb(32,"mat-form-field",7),c.Yb(33,"input",8),c.gc("ngModelChange",(function(t){return e.no_of_unit=t})),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(34,"app-modal-action"),c.Yb(35,"button",9),c.gc("click",(function(t){return e.submit(t)})),c.Gc(36,"Save"),c.Xb(),c.Xb()),2&t){var a,i=(null==(a=e.keys())?null:a.length)>0;c.Gb(1),c.Ic("Product Variant Detail: ",null==e.variantDetail?null:e.variantDetail.product_name,""),c.Gb(6),c.qc("ngForOf",null==e.variantDetail?null:e.variantDetail.filenames),c.Gb(4),c.qc("ngIf",i),c.Gb(7),c.Hc(null==e.variantDetail?null:e.variantDetail.sku),c.Gb(5),c.Hc(null==e.variantDetail?null:e.variantDetail.price),c.Gb(5),c.Hc(null==e.variantDetail?null:e.variantDetail.total_available_unit),c.Gb(5),c.qc("ngModel",e.no_of_unit),c.Gb(2),c.qc("disabled",e._ProgressBarService.inProgress())}},directives:[Y.a,k.a,r.l,r.m,G.b,b.s,P.a,b.b,b.u,b.o,b.r,I.a,w.b,et.a,x.b,x.a],styles:[""]}),_t),St=a("R6Eq"),Xt=a("Wp6s");function Yt(t,e){1&t&&(c.Yb(0,"th",28),c.Gc(1," SKU "),c.Xb())}function kt(t,e){if(1&t&&(c.Yb(0,"td",29),c.Gc(1),c.Xb()),2&t){var a=e.$implicit;c.Gb(1),c.Ic(" ",a.sku,"")}}function Gt(t,e){1&t&&(c.Yb(0,"th",28),c.Gc(1," Name "),c.Xb())}function Pt(t,e){if(1&t&&(c.Yb(0,"td",29),c.Gc(1),c.Xb()),2&t){var a=e.$implicit;c.Gb(1),c.Ic(" ",a.sku_name," ")}}function Ct(t,e){1&t&&(c.Yb(0,"th",28),c.Gc(1," Image "),c.Xb())}function wt(t,e){if(1&t&&(c.Yb(0,"td",29),c.Tb(1,"img",30),c.Xb()),2&t){var a=e.$implicit,i=c.kc();c.Gb(1),c.qc("src",i._UploaderService.getImage(a.detailed_product_images),c.zc)}}function Dt(t,e){1&t&&(c.Yb(0,"th",28),c.Gc(1," Price "),c.Xb())}function Tt(t,e){if(1&t&&(c.Yb(0,"td",29),c.Gc(1),c.lc(2,"currency"),c.Xb()),2&t){var a=e.$implicit;c.Gb(1),c.Ic(" ",c.nc(2,1,a.price,"\u20b9")," ")}}function It(t,e){1&t&&(c.Yb(0,"th",28),c.Gc(1," Product Type "),c.Xb())}function qt(t,e){1&t&&(c.Yb(0,"span"),c.Gc(1,"NA"),c.Xb())}function Ot(t,e){1&t&&(c.Yb(0,"mat-icon",36),c.Gc(1,"radio_button_checked"),c.Xb())}function Vt(t,e){1&t&&(c.Yb(0,"mat-icon",37),c.Gc(1,"radio_button_checked"),c.Xb())}function xt(t,e){1&t&&(c.Yb(0,"mat-icon",38),c.Gc(1,"radio_button_checked"),c.Xb())}function Et(t,e){1&t&&(c.Yb(0,"td",31),c.Ec(1,qt,2,0,"span",32),c.Ec(2,Ot,2,0,"mat-icon",33),c.Ec(3,Vt,2,0,"mat-icon",34),c.Ec(4,xt,2,0,"mat-icon",35),c.Xb()),2&t&&(c.qc("ngSwitch",e.$implicit.is_veg),c.Gb(1),c.qc("ngSwitchCase",0),c.Gb(1),c.qc("ngSwitchCase",1),c.Gb(1),c.qc("ngSwitchCase",2),c.Gb(1),c.qc("ngSwitchCase",3))}function Bt(t,e){1&t&&(c.Yb(0,"th",39),c.Gc(1," Action "),c.Xb())}function Ft(t,e){if(1&t){var a=c.Zb();c.Yb(0,"td",29),c.Yb(1,"button",40),c.gc("click",(function(){c.yc(a);var t=e.$implicit;return c.kc().edit(t)})),c.Yb(2,"mat-icon"),c.Gc(3,"edit"),c.Xb(),c.Gc(4," Update Unit "),c.Xb(),c.Yb(5,"button",41),c.gc("click",(function(){c.yc(a);var t=e.$implicit;return c.kc().deleteProductVariant(t)})),c.Yb(6,"mat-icon"),c.Gc(7,"delete"),c.Xb(),c.Gc(8," Delete "),c.Xb(),c.Xb()}}function At(t,e){1&t&&c.Tb(0,"tr",42)}function Rt(t,e){1&t&&c.Tb(0,"tr",43)}var Ut,zt=((Ut=function(){function t(e,a,i,r,o){_classCallCheck(this,t),this._ProductService=e,this._ProgressBarService=a,this.dialog=i,this._UploaderService=r,this._ToastService=o,this.displayedColumns=["sku","sku_name","detailed_product_images","is_veg","price","action"],this.pageSize=10,this.pageSizeOptions=[5,10,25,100],this.imageUrl=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.dataSource=new u.k([]),this.product.product_image&&(this.imageUrl=this._UploaderService.getImage(this.product.product_image)),this.getProductVariantById()}},{key:"getProductVariantById",value:function(){var t=this;this._ProgressBarService.show(),this._ProductService.getProductVariantByProductId(this.product.product_id).subscribe((function(e){e&&(t.dataSource.data=e,t.dataSource.paginator=t.paginator),t._ProgressBarService.hide()}))}},{key:"applyFilter",value:function(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}},{key:"add",value:function(){var t=this;this.dialog.open($,{width:"600px",disableClose:!0,data:{product:this.product}}).afterClosed().subscribe((function(e){e&&t.getProductVariantById()}))}},{key:"edit",value:function(t){this.dialog.open(yt,{width:"600px",disableClose:!0,data:{productVariant:t}})}},{key:"deleteProductVariant",value:function(t){var e=this;this.dialog.open(St.a,{width:"600px",disableClose:!0,data:{message:"Deleting this product. Click Ok to continue."}}).afterClosed().subscribe((function(a){a&&(e._ProgressBarService.show(),e._ProductService.deleteProductVariant({id:t.sku_id}).subscribe((function(t){e._ToastService.info(t.message),e.getProductVariantById()})))}))}}]),t}()).\u0275fac=function(t){return new(t||Ut)(c.Sb(S),c.Sb(v.a),c.Sb(p.b),c.Sb(g.a),c.Sb(h.a))},Ut.\u0275cmp=c.Mb({type:Ut,selectors:[["app-product-variant-list"]],viewQuery:function(t,e){var a;1&t&&c.Mc(s.a,!0),2&t&&c.vc(a=c.hc())&&(e.paginator=a.first)},inputs:{product:"product"},decls:49,vars:12,consts:[[1,"row"],[1,"col-xs-12","col-md-2"],["alt","Product","height","80","appImgFallback","",3,"src"],[1,"col-xs-12","col-md-4"],[1,"label"],[1,"value"],[2,"padding","8px"],[1,"col-xs-6"],["mat-button","","color","primary",3,"click"],[1,"col-xs-6",2,"text-align","right"],["matInput","","placeholder","Search","autocomplete","off",3,"keyup"],["input",""],[1,"table-container","mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","sku","mat-sort-header",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sku_name"],["matColumnDef","detailed_product_images"],["matColumnDef","price"],["matColumnDef","is_veg"],["mat-cell","",3,"ngSwitch",4,"matCellDef"],["matColumnDef","action"],["mat-header-cell","","style","width: 200px;",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"data"],[3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell",""],["mat-cell",""],["height","40","appImgFallback","",3,"src"],["mat-cell","",3,"ngSwitch"],[4,"ngSwitchCase"],["matTooltip","Veg item","class","veg",4,"ngSwitchCase"],["matTooltip","Non Veg item","class","nonveg",4,"ngSwitchCase"],["matTooltip","Egg item","class","egg",4,"ngSwitchCase"],["matTooltip","Veg item",1,"veg"],["matTooltip","Non Veg item",1,"nonveg"],["matTooltip","Egg item",1,"egg"],["mat-header-cell","",2,"width","200px"],["mat-button","","color","primary","aria-label","Edit product","matTooltip","View this product",3,"click"],["mat-button","","color","primary","aria-label","Delete product","matTooltip","Delete this product",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(c.Yb(0,"mat-card"),c.Yb(1,"div",0),c.Yb(2,"div",1),c.Tb(3,"img",2),c.Xb(),c.Yb(4,"div",3),c.Yb(5,"span",4),c.Gc(6,"Product:"),c.Xb(),c.Yb(7,"span",5),c.Gc(8),c.Xb(),c.Xb(),c.Yb(9,"div",3),c.Yb(10,"span",4),c.Gc(11,"Manufacturer:"),c.Xb(),c.Yb(12,"span",5),c.Gc(13),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(14,"div",6),c.Yb(15,"div",0),c.Yb(16,"div",7),c.Yb(17,"button",8),c.gc("click",(function(){return e.add()})),c.Yb(18,"mat-icon"),c.Gc(19,"add"),c.Xb(),c.Gc(20," Add Product Variant "),c.Xb(),c.Xb(),c.Yb(21,"div",9),c.Yb(22,"mat-form-field"),c.Yb(23,"input",10,11),c.gc("keyup",(function(t){return e.applyFilter(t)})),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(25,"div",12),c.Yb(26,"table",13),c.Wb(27,14),c.Ec(28,Yt,2,0,"th",15),c.Ec(29,kt,2,1,"td",16),c.Vb(),c.Wb(30,17),c.Ec(31,Gt,2,0,"th",15),c.Ec(32,Pt,2,1,"td",16),c.Vb(),c.Wb(33,18),c.Ec(34,Ct,2,0,"th",15),c.Ec(35,wt,2,1,"td",16),c.Vb(),c.Wb(36,19),c.Ec(37,Dt,2,0,"th",15),c.Ec(38,Tt,3,4,"td",16),c.Vb(),c.Wb(39,20),c.Ec(40,It,2,0,"th",15),c.Ec(41,Et,5,5,"td",21),c.Vb(),c.Wb(42,22),c.Ec(43,Bt,2,0,"th",23),c.Ec(44,Ft,9,0,"td",16),c.Vb(),c.Ec(45,At,1,0,"tr",24),c.Ec(46,Rt,1,0,"tr",25),c.Xb(),c.Tb(47,"app-no-records",26),c.Xb(),c.Yb(48,"mat-paginator",27),c.gc("page",(function(t){return e.pageEvent=t})),c.Xb()),2&t&&(c.Gb(3),c.qc("src",e.imageUrl,c.zc),c.Gb(5),c.Jc("",e.product.category_name,"/",e.product.product_name,""),c.Gb(5),c.Hc(e.product.manufacturer_name),c.Gb(13),c.qc("dataSource",e.dataSource),c.Gb(19),c.qc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),c.Gb(1),c.qc("matRowDefColumns",e.displayedColumns),c.Gb(1),c.qc("data",e.dataSource.data),c.Gb(1),c.qc("length",null==e.dataSource.data?null:e.dataSource.data.length)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions))},directives:[Xt.a,et.a,w.b,D.a,G.b,P.a,u.j,u.c,u.e,u.b,u.g,u.i,tt.a,s.a,u.d,u.a,r.o,r.p,V.a,u.f,u.h],pipes:[r.d],styles:[".veg[_ngcontent-%COMP%]{color:green}.nonveg[_ngcontent-%COMP%]{color:red}.egg[_ngcontent-%COMP%]{color:orange}.egg[_ngcontent-%COMP%], .nonveg[_ngcontent-%COMP%], .veg[_ngcontent-%COMP%]{cursor:default}"]}),Ut);function Mt(t,e){if(1&t){var a=c.Zb();c.Yb(0,"mat-icon",6),c.Gc(1,"category"),c.Xb(),c.Yb(2,"span",7),c.Gc(3),c.lc(4,"textTruncate"),c.lc(5,"textTruncate"),c.Xb(),c.Yb(6,"button",8),c.gc("click",(function(){c.yc(a);var t=c.kc().index;return c.kc().removeTab(t)})),c.Yb(7,"mat-icon"),c.Gc(8,"cancel"),c.Xb(),c.Xb()}if(2&t){var i=c.kc().$implicit;c.Gb(3),c.Jc("",c.nc(4,2,i.category_name,8),"/",c.nc(5,5,i.product_name,12),"")}}function Nt(t,e){if(1&t&&(c.Yb(0,"mat-tab"),c.Ec(1,Mt,9,8,"ng-template",4),c.Tb(2,"app-product-variant-list",5),c.Xb()),2&t){var a=e.$implicit;c.Gb(2),c.qc("product",a)}}var $t,jt,Ht,Lt=[{path:"",component:($t=function(){function t(){_classCallCheck(this,t),this.tabs=[],this.selected=0}return _createClass(t,[{key:"ngOnInit",value:function(){this.tab=null}},{key:"setTabIndex",value:function(t){this.selected=t}},{key:"handleOnTabAdd",value:function(t){var e=this.tabs.findIndex((function(e){return e.product_id==t.product_id}));-1!==e?this.setTabIndex(1+e):(this.tabs.push(t),this.setTabIndex(1+this.tabs.length-1))}},{key:"removeTab",value:function(t){this.tabs.splice(t,1)}}]),t}(),$t.\u0275fac=function(t){return new(t||$t)},$t.\u0275cmp=c.Mb({type:$t,selectors:[["app-product-management"]],decls:4,vars:2,consts:[["mat-align-tabs","start",3,"selectedIndex","selectedIndexChange"],["label","Base Products"],[3,"onTabAdd"],[4,"ngFor","ngForOf"],["mat-tab-label",""],[3,"product"],["color","primary"],[2,"margin-left","10px","font-size","12px"],["mat-icon-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(c.Yb(0,"mat-tab-group",0),c.gc("selectedIndexChange",(function(t){return e.setTabIndex(t)})),c.Yb(1,"mat-tab",1),c.Yb(2,"app-product-list",2),c.gc("onTabAdd",(function(t){return e.handleOnTabAdd(t)})),c.Xb(),c.Xb(),c.Ec(3,Nt,3,1,"mat-tab",3),c.Xb()),2&t&&(c.qc("selectedIndex",e.selected),c.Gb(3),c.qc("ngForOf",e.tabs))},directives:[n.c,n.a,ft,r.l,n.d,zt,D.a,w.b],pipes:[E.a],styles:[""]}),$t)}],Wt=((jt=function t(){_classCallCheck(this,t)}).\u0275mod=c.Qb({type:jt}),jt.\u0275inj=c.Pb({factory:function(t){return new(t||jt)},imports:[[o.e.forChild(Lt)],o.e]}),jt),Zt=a("PCNd"),Kt=((Ht=function t(){_classCallCheck(this,t)}).\u0275mod=c.Qb({type:Ht}),Ht.\u0275inj=c.Pb({factory:function(t){return new(t||Ht)},imports:[[r.c,Wt,Zt.a.forRoot()]]}),Ht)}}]);